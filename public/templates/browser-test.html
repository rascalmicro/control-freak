<!DOCTYPE html>
<!-- 19 June 2012 dsmall -->
<html lang="en">
<head>
    <title>Browser Test</title>
    {% include "include/rascal-head.html" %}
    <script src="static/js/modernizr-2.6.1.js"></script>
    <style>
        span.pass {
            color: LawnGreen;
        }
        span.fail {
            color: OrangeRed;
        }
    </style>
</head>
<body>
    {% include "include/rascal-topbar.html" %}
    <div class="container">
        <div class="well rascal">
            <h1>Browser Test</h1>
            <p>Features supported in this browser are indicated by "true" in the Status column.
                Features required for drag and drop in the editor and for the Upload and Album demos
                are indicated by "true" in the Required column:</p>
            <div id='what'></div>
        </div>
    </div>
    
    <script type="text/javascript">
        var s;
        
        function testfeature(name, result, required) {
            var status = (result !== undefined);
            var myClass = required ? ((status === required) ? 'pass' : 'fail') : '';
            s += '<tr><td>' + name + '</td><td>' + status + '</td><td><span class="' + myClass + '">' + required + '</span></td></tr>';
        }
        
        function test() {
            var xhr = new XMLHttpRequest();
            // s = '<table border="1" cellspacing="0" cellpadding="5">';
            s = '<table class="table table-bordered">';
            s += '<thead><tr><th>Feature</th><th>Status</th><th>Required</th></tr></thead>';
            s += '<tbody>';
            testfeature('Drag and Drop', Modernizr.draganddrop, true);
            testfeature('FileList', window.FileList, true);
            testfeature('File', window.File, true);
            testfeature('XMLHttpRequest.upload', xhr.upload, true);
            testfeature('FileReader', window.FileReader, false);
            testfeature('Blob', window.Blob, false);
            s += '</tbody>';
            s += '</table>';
            document.getElementById('what').innerHTML = s;
        }

        $(document).ready(function() {
            test();
        });
    </script>
</body>
</html>
