<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hello TMP102</title>
    {% include "include/rascal-head.html" %}
</head>
<body>
    {% include "include/rascal-topbar.html" %}
    <div class="container">
        <div class="well rascal">
            <h1>Hello TMP102</h1>
            <p>Read from an I2C device, a TMP102
                <a href="http://www.sparkfun.com/products/9418" class="rascal red" target="sparkfun">Digital Temperature Sensor</a>
                manufactured by Sparkfun, at its base address 0x48.</p>
            <input id="read_temp" type="button" value="Read Temperature" class="btn btn-large btn-danger rascal" />
            <span id="message"></span>
        </div>
    </div>
    <script type="text/javascript">
        $("#read_temp").click(function () {
            // Fade out previous reading to make it obvious that a new reading has been taken :-)
            $("#message").fadeOut(100, function () {
                $.post("/read_temp", function (response) {
                    $("#message").text(response).fadeIn(100);
                }).error(function (jqXHR, textStatus, errorThrown) {
                    $("#message").text(errorThrown).fadeIn(100);
                });
            });
        });
    </script>
</body>
</html>
